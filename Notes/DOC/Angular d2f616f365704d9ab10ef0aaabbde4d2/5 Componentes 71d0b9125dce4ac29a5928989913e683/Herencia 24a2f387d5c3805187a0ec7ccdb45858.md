# Herencia

üí° **CONSEJO:** Esta gu√≠a asume que ya has le√≠do la **Gu√≠a de lo Esencial**. L√©ela primero si eres nuevo en Angular.

Los componentes de Angular son clases de TypeScript y participan en la sem√°ntica est√°ndar de herencia de JavaScript.

Un componente puede extender cualquier clase base:

```tsx

export class ListboxBase {
  value: string;
}

@Component({ ... })
export class CustomListbox extends ListboxBase {
  // CustomListbox hereda la propiedad `value`.
}

```

---

### En esta p√°gina

- Extender otros componentes y directivas
- Reenviar dependencias inyectadas
- Sobrescribir m√©todos del ciclo de vida

---

## **Extender otros componentes y directivas**

Cuando un componente extiende otro componente o directiva, **hereda parte de la metadata** definida en el decorador de la clase base y los miembros decorados de esta.

Esto incluye:

- *Host bindings*
- Entradas (*inputs*)
- Salidas (*outputs*)
- M√©todos del ciclo de vida

Ejemplo:

```tsx

@Component({
  selector: 'base-listbox',
  template: `
    ...
  `,
  host: {
    '(keydown)': 'handleKey($event)',
  },
})
export class ListboxBase {
  value = input.required<string>();
  handleKey(event: KeyboardEvent) {
    /* ... */
  }
}

@Component({
  selector: 'custom-listbox',
  template: `
    ...
  `,
  host: {
    '(click)': 'focusActiveOption()',
  },
})
export class CustomListbox extends ListboxBase {
  disabled = input(false);
  focusActiveOption() {
    /* ... */
  }
}

```

En el ejemplo anterior:

- **CustomListbox** hereda toda la informaci√≥n asociada con **ListboxBase**, pero **sobrescribe** el *selector* y la plantilla con sus propios valores.
- CustomListbox tiene **dos inputs** (`value` y `disabled`) y **dos escuchadores de eventos** (`keydown` y `click`).

Las clases hijas acaban con la **uni√≥n** de todos los *inputs*, *outputs* y *host bindings* de sus ancestros, m√°s los suyos propios.

---

## **Reenviar dependencias inyectadas**

Si una clase base inyecta dependencias como par√°metros del constructor, la clase hija debe **reenviar expl√≠citamente** estas dependencias a `super`.

```tsx

@Component({ ... })
export class ListboxBase {
  constructor(private element: ElementRef) { }
}

@Component({ ... })
export class CustomListbox extends ListboxBase {
  constructor(element: ElementRef) {
    super(element);
  }
}

```

---

## **Sobrescribir m√©todos del ciclo de vida**

Si una clase base define un m√©todo de ciclo de vida como `ngOnInit`, y la clase hija tambi√©n lo implementa, **la implementaci√≥n de la clase hija sobrescribe a la de la clase base**.

Si quieres preservar la l√≥gica del m√©todo de la clase base, debes **llamarlo expl√≠citamente** con `super`:

```tsx

@Component({ ... })
export class ListboxBase {
  protected isInitialized = false;
  ngOnInit() {
    this.isInitialized = true;
  }
}

@Component({ ... })
export class CustomListbox extends ListboxBase {
  override ngOnInit() {
    super.ngOnInit();
    /* ... */
  }
}

```